<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Aplicación Web</title>
  
  <!-- Firebase SDKs -->
  <!-- Firebase App (the core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <!-- Firebase Analytics -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js"></script>
  <!-- Firebase Authentication -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>

  <!-- Estilos CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Nombre del Programa -->
  <header>
    <h1>Mi Aplicación Web</h1>
  </header>

  <!-- Descripción Breve -->
  <section>
    <p>Bienvenido a Mi Aplicación Web, donde puedes acceder a increíbles funcionalidades con una experiencia de usuario intuitiva y segura. Regístrate o inicia sesión para empezar.</p>
  </section>
  
  <!-- Botones de Navegación -->
  <div class="button-container">
    <button onclick="showForm('register')">Registro</button>
    <button onclick="showForm('login')">Inicio de Sesión</button>
  </div>
  
  <!-- Formulario de Registro -->
  <section id="register-form" class="form-section hidden">
    <h2>Registro</h2>
    <input type="email" id="register-email" placeholder="Correo electrónico" required>
    <input type="password" id="register-password" placeholder="Contraseña" required>
    <button onclick="register()">Registrarse</button>
    <button onclick="showForm('none')">Regresar</button>
  </section>
  
  <!-- Formulario de Inicio de Sesión -->
  <section id="login-form" class="form-section hidden">
    <h2>Inicio de Sesión</h2>
    <input type="email" id="login-email" placeholder="Correo electrónico" required>
    <input type="password" id="login-password" placeholder="Contraseña" required>
    <button onclick="signIn()">Iniciar sesión</button>
    <button onclick="showForm('none')">Regresar</button>
  </section>

  <!-- Firebase Configuration and Initialization -->
  <script>
    // Configuración de Firebase para la web
    const firebaseConfig = {
      apiKey: "AIzaSyA_x5k1sH6R-UhBjNBCezuon5vC10c1uks",
      authDomain: "base-de-datos-web-ffd19.firebaseapp.com",
      databaseURL: "https://base-de-datos-web-ffd19-default-rtdb.firebaseio.com",
      projectId: "base-de-datos-web-ffd19",
      storageBucket: "base-de-datos-web-ffd19.firebasestorage.app",
      messagingSenderId: "158026017847",
      appId: "1:158026017847:web:f796f0ed6cd0789d0863b2",
      measurementId: "G-0BEHQR0E1G"
    };

    // Inicializar Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const analytics = firebase.analytics();

    // Funciones de autenticación
    const auth = firebase.auth();

    // Registro de usuario
    function register() {
      const email = document.getElementById('register-email').value;
      const password = document.getElementById('register-password').value;
      auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          console.log('Usuario registrado:', user);
        })
        .catch((error) => {
          console.error('Error:', error.code, error.message);
        });
    }

    // Inicio de sesión
    function signIn() {
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          console.log('Usuario conectado:', user);
        })
        .catch((error) => {
          console.error('Error:', error.code, error.message);
        });
    }

    // Mostrar formulario correspondiente
    function showForm(formType) {
      document.getElementById('register-form').classList.add('hidden');
      document.getElementById('login-form').classList.add('hidden');
      if (formType === 'register') {
        document.getElementById('register-form').classList.remove('hidden');
      } else if (formType === 'login') {
        document.getElementById('login-form').classList.remove('hidden');
      }
    }
  </script>
</body>
</html>
